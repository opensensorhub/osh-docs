<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <title>Retrieving Data - OpenSensorHub</title>
  

  <link rel="shortcut icon" href="../../../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../../css/highlight.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Retrieving Data";
    var mkdocs_page_input_path = "user/sos/get-data.md";
    var mkdocs_page_url = "/user/sos/get-data/";
  </script>
  
  <script src="../../../js/jquery-2.1.1.min.js"></script>
  <script src="../../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../../js/highlight.pack.js"></script>
  <script src="../../../js/theme.js"></script> 

  
  <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-36723568-3', 'opensensorhub.org');
      ga('send', 'pageview');
  </script>
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <img src="/img/logo-light.png"/>
        <a href="../../.." class="icon"> OpenSensorHub</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../..">Introduction</a>
        
    </li>
<li>
          
            <li>
    
        <ul class="subnav">
	    <li><span>Getting Started</span></li>
            
	        
	            
    <li class="toctree-l1 ">
        <a class="" href="../../../download/">Download</a>
        
    </li>

	        
	    
	        
	            
    <li class="toctree-l1 ">
        <a class="" href="../../../install/">Installation</a>
        
    </li>

	        
	    
        </ul>
    
<li>
          
            <li>
    
        <ul class="subnav">
	    <li><span>User Documentation</span></li>
            
	        
	            
    <li class="toctree-l1 ">
        <a class="" href="../../user-guide/">Introduction</a>
        
    </li>

	        
	    
	        
	            
    <li class="toctree-l1 ">
        <a class="" href="../../protocols/">Supported Protocols</a>
        
    </li>

	        
	    
	        
	            
    <li class="toctree-l1 ">
        <a class="" href="../../sensors/">Supported Devices</a>
        
    </li>

	        
	    
	        
	            
    <li class="toctree-l1 ">
        <a class="" href="../../web-admin/">Web Admin</a>
        
    </li>

	        
	    
	        
	            
    
        <li class="toctree-l1 current">
            <a class="current" href="../intro/">SOS Interface</a>        
            
                <ul class="subnav">
                    
	                
    <li class="toctree-l1 ">
        <a class="" href="../intro/">Introduction</a>
        
    </li>

	            
	                
    <li class="toctree-l1 current">
        <a class="current" href="./">Retrieving Data</a>
        
            <ul>
            
                
                    <li><a class="toctree-l4" href="#result-streams">Result Streams</a></li>
                
                    <li><a class="toctree-l4" href="#observations">Observations</a></li>
                
            
            </ul>
        
    </li>

	            
	                
    <li class="toctree-l1 ">
        <a class="" href="../time-filter/">Temporal Filtering</a>
        
    </li>

	            
	                
    <li class="toctree-l1 ">
        <a class="" href="../spatial-filter/">Spatial Filtering</a>
        
    </li>

	            
	                
    <li class="toctree-l1 ">
        <a class="" href="../foi-filter/">Filtering by Feature</a>
        
    </li>

	            
	                
    <li class="toctree-l1 ">
        <a class="" href="../websocket/">WebSocket Support</a>
        
    </li>

	            
	                
    <li class="toctree-l1 ">
        <a class="" href="../interconnect/">Interconnecting SensorHubs</a>
        
    </li>

	            
                </ul>
            
        </li>
    

	        
	    
	        
	            
    <li class="toctree-l1 ">
        <a class="" href="../../sps/intro/">SPS Interface</a>
        
    </li>

	        
	    
	        
	            
    <li class="toctree-l1 ">
        <a class="" href="../../android-app/">Demo Android App</a>
        
    </li>

	        
	    
        </ul>
    
<li>
          
            <li>
    
        <ul class="subnav">
	    <li><span>Developer Documentation</span></li>
            
	        
	            
    <li class="toctree-l1 ">
        <a class="" href="../../../dev/dev-guide/">Developer's Guide</a>
        
    </li>

	        
	    
	        
	            
    <li class="toctree-l1 ">
        <a class="" href="../../../dev/architecture/">Architecture</a>
        
    </li>

	        
	    
	        
	            
    
        <li class="toctree-l1 ">
            <a class="" href="../../../dev/core-apis/">Core APIs</a>        
            
        </li>
    

	        
	    
	        
	            
    <li class="toctree-l1 ">
        <a class="" href="../../../dev/javadoc/">Javadoc</a>
        
    </li>

	        
	    
	        
	            
    <li class="toctree-l1 ">
        <a class="" href="../../../dev/android/">Android Support</a>
        
    </li>

	        
	    
	        
	            
    <li class="toctree-l1 ">
        <a class="" href="../../../dev/arduino/">Arduino Support</a>
        
    </li>

	        
	    
        </ul>
    
<li>
          
            <li>
    
        <ul class="subnav">
	    <li><span>Tutorials</span></li>
            
	        
	            
    <li class="toctree-l1 ">
        <a class="" href="../../../tutos/adding-new-modules/">Adding New Modules</a>
        
    </li>

	        
	    
	        
	            
    <li class="toctree-l1 ">
        <a class="" href="../../../tutos/your-first-sensor/">Your First Sensor</a>
        
    </li>

	        
	    
        </ul>
    
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../../license/">License</a>
        
    </li>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../..">OpenSensorHub</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../..">Docs</a> &raquo;</li>
    
      
        
          <li>User Documentation &raquo;</li>
        
      
        
          <li>SOS Interface &raquo;</li>
        
      
    
    <li>Retrieving Data</li>
    <li class="wy-breadcrumbs-aside">
      <!--
        
          <a href="https://github.com/opensensorhub/" class="icon icon-github"> Edit on GitHub</a>
        
      -->
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="retrieving-observation-data">Retrieving Observation Data</h1>
<p>The SOS specification is based on the <a href="http://www.opengeospatial.org/standards/om">O&amp;M Model</a> which allows one to provide robust metadata associated with any kind of measurement. With OpenSensorHub's implementation, it is possible to retrieve measurements as full observation objects as well as compact result streams.</p>
<p>All examples given in this section use HTTP GET but remember that OpenSensorHub also supports POST and SOAP requests natively. Please see the <a href="http://www.opengeospatial.org/standards/sos">SOS v2.0 Specification</a> for more details.</p>
<h3 id="result-streams">Result Streams</h3>
<p>Fortunately, SOS v2.0 provides a way to request only observation results in an efficient ASCII or binary encoding instead of verbose XML. This is clearly our preferred way to use SOS (especially with high rate sensors) and can be achieved by using the <strong>GetResult</strong> request as shown in the following example:</p>
<table>
<thead>
<tr>
<th align="left"><strong>Parameter</strong></th>
<th align="left"><strong>Value</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">request</td>
<td align="left"><code>GetResult</code></td>
</tr>
<tr>
<td align="left">offering</td>
<td align="left"><code>urn:mysos:offering03</code></td>
</tr>
<tr>
<td align="left">observedProperty</td>
<td align="left"><code>http://sensorml.com/ont/swe/property/Weather</code></td>
</tr>
</tbody>
</table>
<p><strong>On Demo Server:</strong></p>
<p><a href="http://sensiasoft.net:8181/sensorhub/sos?service=SOS&amp;version=2.0&amp;request=GetResult&amp;offering=urn:mysos:offering03&amp;observedProperty=http://sensorml.com/ont/swe/property/Weather&amp;temporalFilter=phenomenonTime,2016-08-11T19:58:00Z/2016-08-11T19:59:00Z">http://sensiasoft.net:8181/sensorhub/sos?service=SOS&amp;version=2.0&amp;request=GetResult&amp;offering=urn:mysos:offering03&amp;observedProperty=http://sensorml.com/ont/swe/property/Weather&amp;temporalFilter=phenomenonTime,2016-08-11T19:58:00Z/2016-08-11T19:59:00Z</a></p>
<p>As you can see, the response only includes the measurement values themselves and no metadata. The actual choice of encoding depends on the server settings, which usually depends on the type of dataset: for instance a video stream will always be served as compressed binary, while low rate weather of GPS data is usually provided as ASCII tuples.</p>
<p>The description of tuples and their encoding can be retrieved using the <strong>GetResultTemplate</strong> request shown below:</p>
<table>
<thead>
<tr>
<th align="left"><strong>Parameter</strong></th>
<th align="left"><strong>Value</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">request</td>
<td align="left"><code>GetResultTemplate</code></td>
</tr>
<tr>
<td align="left">offering</td>
<td align="left"><code>urn:mysos:offering03</code></td>
</tr>
<tr>
<td align="left">observedProperty</td>
<td align="left"><code>http://sensorml.com/ont/swe/property/Weather</code></td>
</tr>
<tr>
<td align="left">temporalFilter</td>
<td align="left"><code>phenomenonTime,2016-08-11T19:58:00Z/2016-08-11T19:59:00Z</code></td>
</tr>
</tbody>
</table>
<p><strong>On Demo Server:</strong></p>
<p><a href="http://sensiasoft.net:8181/sensorhub/sos?service=SOS&amp;version=2.0&amp;request=GetResultTemplate&amp;offering=urn:mysos:offering03&amp;observedProperty=http://sensorml.com/ont/swe/property/Weather">http://sensiasoft.net:8181/sensorhub/sos?service=SOS&amp;version=2.0&amp;request=GetResultTemplate&amp;offering=urn:mysos:offering03&amp;observedProperty=http://sensorml.com/ont/swe/property/Weather</a></p>
<p>The response contains detailed information about each field for which a value is given in the response to the <strong>GetResult</strong> call. This can be used to automatically configure a client for parsing the data, for automatically generating parser code or even for manually coding a parser.</p>
<p><em>Note: For faster response times, OSH generates the response in a streaming fashion so that the client doesn't have to wait until all observations are fetched from database before it can start parsing. This behavior is also needed for streaming real-time data (See the <a href="../time-filter/">Temporal Filtering</a> page to learn how to request a real-time stream).</em></p>
<h3 id="observations">Observations</h3>
<p>The traditional way of requesting data from SOS is through the <strong>GetObservation</strong> request which provides the full XML encoded view of each observation. Although it can be useful in some contexts, it is not appropriate nor recommended for requesting large numbers observations because the amount of data returned is quite large and redundant. The following table shows example parameters for such request with only a temporal filter:</p>
<table>
<thead>
<tr>
<th align="left"><strong>Parameter</strong></th>
<th align="left"><strong>Value</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">request</td>
<td align="left"><code>GetObservation</code></td>
</tr>
<tr>
<td align="left">offering</td>
<td align="left"><code>urn:mysos:offering03</code></td>
</tr>
<tr>
<td align="left">observedProperty</td>
<td align="left"><code>http://sensorml.com/ont/swe/property/Weather</code></td>
</tr>
<tr>
<td align="left">temporalFilter</td>
<td align="left"><code>phenomenonTime,2016-08-11T19:58:00Z/2016-08-11T19:59:00Z</code></td>
</tr>
</tbody>
</table>
<p><strong>On Demo Server:</strong></p>
<p><a href="http://sensiasoft.net:8181/sensorhub/sos?service=SOS&amp;version=2.0&amp;request=GetObservation&amp;offering=urn:mysos:offering03&amp;observedProperty=http://sensorml.com/ont/swe/property/Weather&amp;temporalFilter=phenomenonTime,2016-08-11T19:58:00Z/2016-08-11T19:59:00Z">http://sensiasoft.net:8181/sensorhub/sos?service=SOS&amp;version=2.0&amp;request=GetObservation&amp;offering=urn:mysos:offering03&amp;observedProperty=http://sensorml.com/ont/swe/property/Weather&amp;temporalFilter=phenomenonTime,2016-08-11T19:58:00Z/2016-08-11T19:59:00Z</a></p>
<p><em>Note: For faster response times and to limit server memory usage, OSH generates the XML in a streaming fashion so that the client doesn't have to wait until all observations are fetched from database before it can start parsing. Despite this efficient implementation, OSH imposes a limit on the number of observations that can be returned with this method</em></p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../time-filter/" class="btn btn-neutral float-right" title="Temporal Filtering"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../intro/" class="btn btn-neutral" title="Introduction"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>The content of this site is licensed under a Creative Commons Zero v1.0 Universal License</p>
    
  </div>

</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/opensensorhub/" class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../intro/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../time-filter/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>