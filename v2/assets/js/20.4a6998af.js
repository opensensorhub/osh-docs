(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{376:function(e,t,a){"use strict";a.r(t);var r=a(42),s=Object(r.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"event-types"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#event-types"}},[e._v("#")]),e._v(" Event Types")]),e._v(" "),a("p",[e._v("There are different types of events that are generated by OSH components. The most important ones are described below:")]),e._v(" "),a("h2",{attrs:{id:"topic-hierarchy"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#topic-hierarchy"}},[e._v("#")]),e._v(" Topic Hierarchy")]),e._v(" "),a("p",[e._v("Example Topics")]),e._v(" "),a("p",[e._v("|modules/{uuid}/status\nprocedures/{proc_uid}/status\nprocedures/{proc_uid}/outputs/{name}/status\nprocedures/{proc_uid}/outputs/{name}/data\nprocedures/{proc_uid}/controls/{name}/status\nprocedures/{proc_uid}/controls/{name}/data")]),e._v(" "),a("p",[e._v("alias for group members\nprocedures/{proc_group_uid}/members/{proc_uid}/....")]),e._v(" "),a("p",[e._v("wildcards\n'+' for single level wildcard\n'#' for multi-levelwildcard")]),e._v(" "),a("p",[e._v("| procedures/+/status                      | Status from all registered procedures (catch procedure add/remove) |\n| procedures/{proc_uid}/outputs/+/status   | Status from all outputs of one procedure (catch datastream add/remove) |\n| procedures/{proc_uid}/outputs/+/data     |  |")]),e._v(" "),a("p",[e._v("For this to work, wildcards have to be evaluated dynamically (i.e. account for topics created after the wilcard subscription is created)")]),e._v(" "),a("h2",{attrs:{id:"module-events"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#module-events"}},[e._v("#")]),e._v(" Module Events")]),e._v(" "),a("p",[e._v("These events are generated by logical modules themselves and are used to notify changes to modules.")]),e._v(" "),a("p",[e._v("There is only one class for module events called *"),a("em",[e._v("ModuleEvent")]),e._v(" that supports a list of possible subtypes:")]),e._v(" "),a("ul",[a("li",[a("strong",[e._v("STATE_CHANGED")]),e._v(": The module has transitioned to a new state")]),e._v(" "),a("li",[a("strong",[e._v("CONFIG_CHANGED")]),e._v(": The configuration of the module has changed")]),e._v(" "),a("li",[a("strong",[e._v("STATUS")]),e._v(": Event carries a status message about the module")]),e._v(" "),a("li",[a("strong",[e._v("ERROR")]),e._v(": Event carries an error message about the module")]),e._v(" "),a("li",[a("strong",[e._v("DELETED")]),e._v(": The module was completely deleted from the hub configuration")])]),e._v(" "),a("p",[e._v("When the event subtype is "),a("strong",[e._v("STATE_CHANGED")]),e._v(", possible module state transitions are:")]),e._v(" "),a("ul",[a("li",[a("strong",[e._v("LOADED")]),e._v(": A new module has been loaded on the hub instance")]),e._v(" "),a("li",[a("strong",[e._v("INITIALIZING")]),e._v(":")]),e._v(" "),a("li",[a("strong",[e._v("INITIALIZED")]),e._v(":")]),e._v(" "),a("li",[a("strong",[e._v("STARTING")]),e._v(":")]),e._v(" "),a("li",[a("strong",[e._v("STARTED")]),e._v(":")]),e._v(" "),a("li",[a("strong",[e._v("STOPPING")]),e._v(":")]),e._v(" "),a("li",[a("strong",[e._v("STOPPED")]),e._v(":")])]),e._v(" "),a("p",[e._v("All module events are published on the module registry topic as well as on module's individual topics.")]),e._v(" "),a("h2",{attrs:{id:"procedure-events"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#procedure-events"}},[e._v("#")]),e._v(" Procedure Events")]),e._v(" "),a("p",[e._v("The following events notify changes about "),a("strong",[e._v("Procedure")]),e._v(" instances:")]),e._v(" "),a("ul",[a("li",[a("strong",[e._v("ProcedureAddedEvent")]),e._v(": A new procedure has been registered on the hub")]),e._v(" "),a("li",[a("strong",[e._v("ProcedureRemovedEvent")]),e._v(": A procedure and all associated data has been permanently removed from the hub")]),e._v(" "),a("li",[a("strong",[e._v("ProcedureChangedEvent")]),e._v(": A procedure description has been changed")]),e._v(" "),a("li",[a("strong",[e._v("ProcedureDisabledEvent")]),e._v(": A procedure has been disabled (it cannot generate data or accept commands while it is disabled)")]),e._v(" "),a("li",[a("strong",[e._v("ProcedureEnabledEvent")]),e._v(": A procedure has been enabled")])]),e._v(" "),a("p",[e._v("These events are published to both procedure status topic and procedure registry topic (except for the "),a("code",[e._v("added")]),e._v(" event that is published only on the procedure registry topic).")]),e._v(" "),a("h3",{attrs:{id:"datastream-events"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#datastream-events"}},[e._v("#")]),e._v(" DataStream Events")]),e._v(" "),a("p",[e._v("The following events notify changes about "),a("strong",[e._v("Procedure")]),e._v(" datastreams:")]),e._v(" "),a("ul",[a("li",[a("strong",[e._v("DataStreamAddedEvent")]),e._v(": A new datastream has been registered on the hub")]),e._v(" "),a("li",[a("strong",[e._v("DataStreamRemovedEvent")]),e._v(": A datastream and all associated data has been permanently removed from the hub")]),e._v(" "),a("li",[a("strong",[e._v("DataStreamChangedEvent")]),e._v(": A datastream description has been changed")]),e._v(" "),a("li",[a("strong",[e._v("DataStreamDisabledEvent")]),e._v(": The datastream has been disabled (A datastream cannot generate data while it is disabled)")]),e._v(" "),a("li",[a("strong",[e._v("DataStreamEnabledEvent")]),e._v(": The datastream has been enabled")]),e._v(" "),a("li",[a("strong",[e._v("DataEvent / ObsEvent")]),e._v(": A new data record / observation has been produced")])]),e._v(" "),a("p",[e._v("These events are published to both procedure and datastream status topics (except for the "),a("code",[e._v("added")]),e._v(" event that is published only at the procedure status topic).")]),e._v(" "),a("h2",{attrs:{id:"commandstream-events"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#commandstream-events"}},[e._v("#")]),e._v(" CommandStream Events")]),e._v(" "),a("p",[e._v("OSH components can subscribe to events by calling the event-bus interface using a powerful filtering language.")]),e._v(" "),a("p",[e._v("Event filters allow one to select:")]),e._v(" "),a("ul",[a("li",[e._v("One or more datasources (procedure, datastream, etc.)")]),e._v(" "),a("li",[e._v("Filter on content using a predicate")])]),e._v(" "),a("p",[e._v("== Event Filtering Diagram ==")])])}),[],!1,null,null,null);t.default=s.exports}}]);