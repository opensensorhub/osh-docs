<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Core Data Model | OpenSensorHub Documentation</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/v2/img/logo.png">
    <meta name="description" content="Java-based middleware for building better Sensor Webs and the Internet of Things">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/v2/assets/css/0.styles.e6d66aac.css" as="style"><link rel="preload" href="/v2/assets/js/app.f25264b8.js" as="script"><link rel="preload" href="/v2/assets/js/2.b6409af3.js" as="script"><link rel="preload" href="/v2/assets/js/11.a92be972.js" as="script"><link rel="prefetch" href="/v2/assets/js/10.52181547.js"><link rel="prefetch" href="/v2/assets/js/12.d385b62a.js"><link rel="prefetch" href="/v2/assets/js/13.5d6e360c.js"><link rel="prefetch" href="/v2/assets/js/14.dc92e924.js"><link rel="prefetch" href="/v2/assets/js/15.bf5f15bd.js"><link rel="prefetch" href="/v2/assets/js/16.3f9d6a35.js"><link rel="prefetch" href="/v2/assets/js/17.a36a7835.js"><link rel="prefetch" href="/v2/assets/js/18.cb43930a.js"><link rel="prefetch" href="/v2/assets/js/19.a0572494.js"><link rel="prefetch" href="/v2/assets/js/20.c0cc6457.js"><link rel="prefetch" href="/v2/assets/js/21.cba0d168.js"><link rel="prefetch" href="/v2/assets/js/22.3f5fd7f7.js"><link rel="prefetch" href="/v2/assets/js/23.e64d3a89.js"><link rel="prefetch" href="/v2/assets/js/24.df8268d7.js"><link rel="prefetch" href="/v2/assets/js/25.9860bcd4.js"><link rel="prefetch" href="/v2/assets/js/26.6ec51060.js"><link rel="prefetch" href="/v2/assets/js/27.dba969e6.js"><link rel="prefetch" href="/v2/assets/js/28.77133da4.js"><link rel="prefetch" href="/v2/assets/js/29.ba00c672.js"><link rel="prefetch" href="/v2/assets/js/3.9ff3ab37.js"><link rel="prefetch" href="/v2/assets/js/30.f96e3501.js"><link rel="prefetch" href="/v2/assets/js/31.c2a50df4.js"><link rel="prefetch" href="/v2/assets/js/32.989d3e2c.js"><link rel="prefetch" href="/v2/assets/js/33.4beec893.js"><link rel="prefetch" href="/v2/assets/js/34.692e5b26.js"><link rel="prefetch" href="/v2/assets/js/35.cdfa0e7e.js"><link rel="prefetch" href="/v2/assets/js/36.bb5f2fd6.js"><link rel="prefetch" href="/v2/assets/js/37.ccacb96f.js"><link rel="prefetch" href="/v2/assets/js/38.d081e840.js"><link rel="prefetch" href="/v2/assets/js/39.79ab9544.js"><link rel="prefetch" href="/v2/assets/js/4.34b1eb31.js"><link rel="prefetch" href="/v2/assets/js/40.a160db8c.js"><link rel="prefetch" href="/v2/assets/js/41.f0c614de.js"><link rel="prefetch" href="/v2/assets/js/42.6707f6c8.js"><link rel="prefetch" href="/v2/assets/js/43.11322be8.js"><link rel="prefetch" href="/v2/assets/js/44.707fddd8.js"><link rel="prefetch" href="/v2/assets/js/45.14c528e5.js"><link rel="prefetch" href="/v2/assets/js/46.1474838c.js"><link rel="prefetch" href="/v2/assets/js/47.56b050df.js"><link rel="prefetch" href="/v2/assets/js/48.56bf5349.js"><link rel="prefetch" href="/v2/assets/js/49.5c4ba5a0.js"><link rel="prefetch" href="/v2/assets/js/5.c06f7037.js"><link rel="prefetch" href="/v2/assets/js/50.df8e0617.js"><link rel="prefetch" href="/v2/assets/js/51.e42bca6f.js"><link rel="prefetch" href="/v2/assets/js/6.2e342383.js"><link rel="prefetch" href="/v2/assets/js/7.aea4f403.js"><link rel="prefetch" href="/v2/assets/js/8.98285849.js"><link rel="prefetch" href="/v2/assets/js/9.d23d621d.js">
    <link rel="stylesheet" href="/v2/assets/css/0.styles.e6d66aac.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/v2/" class="home-link router-link-active"><img src="/v2/img/logo.png" alt="OpenSensorHub Documentation" class="logo"> <span class="site-name can-hide">OpenSensorHub Documentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/v2/guide/" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><a href="/v2/web/" class="nav-link">
  Web APIs
</a></div><div class="nav-item"><a href="/v2/dev/" class="nav-link">
  Developers
</a></div><div class="nav-item"><a href="/v2/addons/" class="nav-link">
  Add-Ons
</a></div> <a href="https://github.com/opensensorhub" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/v2/guide/" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><a href="/v2/web/" class="nav-link">
  Web APIs
</a></div><div class="nav-item"><a href="/v2/dev/" class="nav-link">
  Developers
</a></div><div class="nav-item"><a href="/v2/addons/" class="nav-link">
  Add-Ons
</a></div> <a href="https://github.com/opensensorhub" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Get Started</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/v2/guide/" aria-current="page" class="sidebar-link">Introduction</a></li><li><a href="/v2/guide/quickstart/installation.html" class="sidebar-link">Installation</a></li><li><a href="/v2/guide/quickstart/download-addons.html" class="sidebar-link">Download Add-ons</a></li><li><a href="/v2/guide/quickstart/protocols.html" class="sidebar-link">Supported Protocols</a></li><li><a href="/v2/guide/quickstart/license.html" class="sidebar-link">License</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Concepts &amp; Architecture</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/v2/guide/concepts/architecture-overview.html" class="sidebar-link">Architecture Overview</a></li><li><a href="/v2/guide/concepts/data-model.html" aria-current="page" class="active sidebar-link">Core Data Model</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/v2/guide/concepts/data-model.html#procedure" class="sidebar-link">Procedure</a></li><li class="sidebar-sub-header"><a href="/v2/guide/concepts/data-model.html#datastream" class="sidebar-link">Datastream</a></li><li class="sidebar-sub-header"><a href="/v2/guide/concepts/data-model.html#command-stream" class="sidebar-link">Command Stream</a></li><li class="sidebar-sub-header"><a href="/v2/guide/concepts/data-model.html#observation" class="sidebar-link">Observation</a></li><li class="sidebar-sub-header"><a href="/v2/guide/concepts/data-model.html#feature-of-interest" class="sidebar-link">Feature of Interest</a></li></ul></li><li><a href="/v2/guide/concepts/system-drivers.html" class="sidebar-link">Real-time System Drivers</a></li><li><a href="/v2/guide/concepts/services-and-apis.html" class="sidebar-link">Web Services &amp; APIs</a></li><li><a href="/v2/guide/concepts/persistence.html" class="sidebar-link">Pluggable Persistence</a></li><li><a href="/v2/guide/concepts/security.html" class="sidebar-link">Security</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Admin Guide</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/v2/guide/admin/admin-console.html" class="sidebar-link">Web Admin Console</a></li><li><a href="/v2/guide/admin/config-reference.html" class="sidebar-link">Configuration File</a></li><li><a href="/v2/guide/admin/osgi-bundles.html" class="sidebar-link">OSGi Bundles Management</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Deployment</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/v2/guide/deploy/distributions.html" class="sidebar-link">OSH Distributions</a></li><li><a href="/v2/guide/deploy/docker.html" class="sidebar-link">Deploying with Docker</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="core-data-model"><a href="#core-data-model" class="header-anchor">#</a> Core Data Model</h1> <p>OpenSensorHub (OSH) internals are modeled on a few key concepts defined by the <a href="http://www.opengeospatial.org/standards/sensorml" target="_blank" rel="noopener noreferrer">SensorML<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="http://www.opengeospatial.org/standards/om" target="_blank" rel="noopener noreferrer">O&amp;M<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and <a href="https://www.ogc.org/standards/swecommon" target="_blank" rel="noopener noreferrer">SWE Common<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> standards. Below are detailed descriptions of these concepts and a some facts regarding their implementation in OSH.</p> <p>Below is a simplified diagram showing the main data model components and a discussion about each class. We feel that it's important to read through these definitions so you can better understand how data is organized by OSH, and find your way around the OSH admin console.</p> <p><img src="/v2/assets/img/data-model-simplified.c11e036c.svg" alt="Data Model Diagram"> <br></p> <p>A more detailed version of this diagram is available in the <a href="../../dev/concepts#data-model">developer section</a>.</p> <h2 id="procedure"><a href="#procedure" class="header-anchor">#</a> Procedure</h2> <p><strong>Procedures</strong> are entities that can <strong>produce observation data</strong> and/or <strong>receive command data</strong>. A procedure can be a <strong>physical entity</strong> (e.g. sensors, actuators, devices...) or a <strong>logical entity</strong> (e.g. processing components, forecast models...) but, in both cases, detailed information about it (the specsheet) can be provided in the <strong>SensorML</strong> language.</p> <p>A procedure's <strong>SensorML specsheet</strong> provides a thorough description of its <strong>inputs, outputs and parameters</strong>, but also information regarding its identification, classification, contacts, physical and measurement characteristics, etc. Each description also has a certain <strong>validity period</strong> (valid time) which allows for <strong>full historization</strong> of the procedure metadata (e.g. allows to capture and historize information about maintenance events like software updates or recalibrations, physical device deployments and relocations, etc.).</p> <p>Procedures can also be <strong>parameterized</strong>, either statically (via configuration) or dynamically (via tasking). Both types of parameterization can be self-described in the <strong>SensorML</strong> description.</p> <p>A procedure can be a <strong>data producer</strong>, in which case it has one or more <strong>outputs</strong> that represent data flows generated by the procedure. These data flows can include <strong>observation results</strong>, but also other things such as <strong>status information</strong>. Each <strong>output</strong> has a unique name (within the procedure) and is associated to a <strong>structure</strong> (a.k.a. schema) and <strong>encoding</strong>. Data records generated by an output are collected into a <strong>datastream</strong> (see below). Since version 2.0, OSH also supports output schema changes over time.</p> <p>A procedure can also be a <strong>command receiver</strong>, in which case it has one or more <strong>taskable parameters</strong> that represent commands or messages that can be received by the procedure. Similarly to outputs, each taskable parameter (or group of parameters) has a unique name (within the procedure) and is associated to a schema. Commands sent to the procedure and targeted at a specific taskable parameter must abide by its schema or the command is rejected. Commands sent to a procedure are collected into <strong>command streams</strong> (see below).</p> <p>Procedures can also be grouped into <strong>Procedure Groups</strong>. This concept is used to model sensor networks or geographically distributed sensor arrays.</p> <h2 id="datastream"><a href="#datastream" class="header-anchor">#</a> Datastream</h2> <p><strong>Datastreams</strong> are time series of <strong>observations</strong> of the same kind that are generated by a given procedure. By &quot;same kind&quot; we mean that the <strong>result</strong> of all <strong>observations</strong> in a given datastream share the same <strong>structure</strong> (i.e. abide to the same schema) and <strong>encoding</strong>.</p> <p>In OSH, datastreams are always associated to a <strong>procedure output</strong>. If the schema of an <strong>output</strong> changes, a new <strong>datastream</strong> is created, and in this case, there will be several datastreams associated to the same output, each one with a different validity period.</p> <p>Datastreams can be seen as the <strong>real-time channel</strong> through which data flows, or as a <strong>collection of historical observations</strong> over time. In fact, in OSH, a datastream represents both and allows for both methods of data consumption: real-time streaming or retrieval of historical data. Depending on how the acquisition pipeline for a particular procedure is configured, data records collected by a datastream can be discarded as soon as dispatched by the <strong>event bus</strong> (real-time datastream) or they can be persisted in a <strong>data store</strong> (historical datastream), or both.</p> <h2 id="command-stream"><a href="#command-stream" class="header-anchor">#</a> Command Stream</h2> <p><strong>Command streams</strong> are the counterparts of datastreams that are used to model procedures' <strong>command &amp; control channels</strong>. They are thus used to augment <strong>procedures</strong> with <strong>tasking capabilities</strong>.</p> <p>A command stream is essentially a time series of commands associated to a given <strong>procedure taskable parameter</strong>. If the schema of a <strong>taskable parameter</strong> changes, a new <strong>command stream</strong> is created, and in this case, there will be several command streams associated to the same taskable parameter, each one with a different validity period.</p> <p>Like datastreams, command streams represent both the <strong>real-time channel</strong> through which commands are delivered and the <strong>collection of historical commands</strong> that a procedure has received until the present time (but whose execution can actually be scheduled for a future time).</p> <h2 id="observation"><a href="#observation" class="header-anchor">#</a> Observation</h2> <p>Observations are a specific type of event, where a <strong>procedure</strong> observes, estimates or forecasts the value of one or more properties of a <strong>feature of interest</strong>. Each observation is associated to a <strong>datastream</strong>, that in turn is associated to a specific <strong>output</strong> of the <strong>procedure</strong> that made the observation. Observations also have the following properties:</p> <p><strong>Phenomenon Time</strong></p> <p>Observations have a <strong>phenomenon time</strong> that indicates <strong>when the phenomenon being observed (or forecasted) took place</strong>. Note that the phenomenon time is not necessarily in the present: it can be in the past if the procedure observes something that happened long ago (e.g. a geological or astronomical event), or in the future when the procedure produces a forecast (e.g. forecast model).</p> <p><strong>Result Time</strong></p> <p>Observations also have a <strong>result time</strong> that indicates the <strong>time at which the procedure generated the observation result</strong>. It can be different from the phenomenon time.</p> <p><strong>Result</strong></p> <p>In OSH, <strong>observation results</strong> are always defined by a SWE Common data structure and encoding, both of which are self descriptive and can be retrieved by data consumers before they start consuming data from an OSH node.</p> <div class="custom-block tip"><p class="custom-block-title">NOTE</p> <p>For most types of automated/digital sensors, <strong>phenomenon time and result time can be considered identical</strong> because they are typically very close to each other. In this case, the only difference is due to the sensor latency, often of the order of a few milliseconds, sometimes a few seconds, and is neglected in most applications. Note that the latency can still be documented in the SensorML description of the procedure in case it is needed for more advanced processing.</p></div> <h2 id="feature-of-interest"><a href="#feature-of-interest" class="header-anchor">#</a> Feature of Interest</h2> <p>The <strong>feature of interest</strong> (often abbreviated as <strong>FOI</strong>) represents the object or phenomenon whose properties (or state) are observed, estimated or forecasted by a <strong>procedure</strong>. Capturing this information is essential to <strong>link the measured data to the real world</strong>.</p> <div class="custom-block tip"><p class="custom-block-title">Examples of features of interest:</p> <ul><li>A static geospatial feature such as a building, a river, a lake, an atmospheric layer</li> <li>A mobile object such as a vehicle or a person</li> <li>An artefact collected on the field and studied in a lab such as a rock sample</li> <li>etc.</li></ul></div> <p>In some cases, the feature of interest is a <strong>sampling feature</strong>, that is called this way because it <strong>samples a larger feature</strong>, often called the <strong>domain feature</strong> or more generally the <strong>sampled feature</strong>. The <strong>sampling feature</strong> always references the <strong>domain feature</strong> so that one can query measurements associated to the larger feature, which is usually the one of ultimate interest.</p> <div class="custom-block tip"><p class="custom-block-title">Examples of sampling features:</p> <ul><li>A measurement station along a river (sampling feature = station location, sampled feature = the river)</li> <li>A specific room or location inside a building</li> <li>A specimen of a larger rock formation</li> <li>etc.</li></ul></div> <p>A given <strong>procedure can have one or several features of interest</strong>, and these features of interest can be targeted at the same time or at different times.</p> <div class="custom-block tip"><p class="custom-block-title">Examples of procedures and their FOIs:</p> <ul><li>A stationary in-situ sensor typically observes a single feature of interest that doesn't change over time (or rarely changes).</li> <li>A mobile remote sensor (i.e. whose location and/or orientation can change) usually targets a single feature of interest at a time, but may target different features of interest over time.</li> <li>A sensor network targets multiple features of interest simultaneously</li> <li>A fleet of mobile sensors can target multiple features of interest simultaneously, all of which can change over time.</li></ul></div> <p>OSH APIs and internal models are designed to implement and document all cases described above.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/opensensorhub/osh-docs/edit/v2/src/guide/concepts/data-model.md" target="_blank" rel="noopener noreferrer">Edit</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">12/17/2020, 10:57:11 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/v2/guide/concepts/architecture-overview.html" class="prev">
        Architecture Overview
      </a></span> <span class="next"><a href="/v2/guide/concepts/system-drivers.html">
        Real-time System Drivers
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/v2/assets/js/app.f25264b8.js" defer></script><script src="/v2/assets/js/2.b6409af3.js" defer></script><script src="/v2/assets/js/11.a92be972.js" defer></script>
  </body>
</html>
