<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Architecture Overview | OpenSensorHub Documentation</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/v2/img/logo.png">
    <meta name="description" content="Java-based middleware for building better Sensor Webs and the Internet of Things">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/v2/assets/css/0.styles.e6d66aac.css" as="style"><link rel="preload" href="/v2/assets/js/app.00ecaa82.js" as="script"><link rel="preload" href="/v2/assets/js/2.b6409af3.js" as="script"><link rel="preload" href="/v2/assets/js/10.54ab501a.js" as="script"><link rel="prefetch" href="/v2/assets/js/11.36ad126e.js"><link rel="prefetch" href="/v2/assets/js/12.d385b62a.js"><link rel="prefetch" href="/v2/assets/js/13.5d6e360c.js"><link rel="prefetch" href="/v2/assets/js/14.dc92e924.js"><link rel="prefetch" href="/v2/assets/js/15.bf5f15bd.js"><link rel="prefetch" href="/v2/assets/js/16.3f9d6a35.js"><link rel="prefetch" href="/v2/assets/js/17.a36a7835.js"><link rel="prefetch" href="/v2/assets/js/18.cb43930a.js"><link rel="prefetch" href="/v2/assets/js/19.a0572494.js"><link rel="prefetch" href="/v2/assets/js/20.4a6998af.js"><link rel="prefetch" href="/v2/assets/js/21.46aba686.js"><link rel="prefetch" href="/v2/assets/js/22.376e0217.js"><link rel="prefetch" href="/v2/assets/js/23.86545af7.js"><link rel="prefetch" href="/v2/assets/js/24.22051f09.js"><link rel="prefetch" href="/v2/assets/js/25.296929fe.js"><link rel="prefetch" href="/v2/assets/js/26.a7325dee.js"><link rel="prefetch" href="/v2/assets/js/27.f59c0bc3.js"><link rel="prefetch" href="/v2/assets/js/28.3931204f.js"><link rel="prefetch" href="/v2/assets/js/29.4977b2a4.js"><link rel="prefetch" href="/v2/assets/js/3.9ff3ab37.js"><link rel="prefetch" href="/v2/assets/js/30.47242b71.js"><link rel="prefetch" href="/v2/assets/js/31.6d417b50.js"><link rel="prefetch" href="/v2/assets/js/32.8dc7b876.js"><link rel="prefetch" href="/v2/assets/js/33.8d37f21f.js"><link rel="prefetch" href="/v2/assets/js/34.769dba9e.js"><link rel="prefetch" href="/v2/assets/js/35.bec5a470.js"><link rel="prefetch" href="/v2/assets/js/36.b476fdb0.js"><link rel="prefetch" href="/v2/assets/js/37.023823ac.js"><link rel="prefetch" href="/v2/assets/js/38.a99ed7e0.js"><link rel="prefetch" href="/v2/assets/js/39.9982678f.js"><link rel="prefetch" href="/v2/assets/js/4.34b1eb31.js"><link rel="prefetch" href="/v2/assets/js/40.482d3a12.js"><link rel="prefetch" href="/v2/assets/js/41.a8f26c8a.js"><link rel="prefetch" href="/v2/assets/js/42.01858694.js"><link rel="prefetch" href="/v2/assets/js/43.83e2985f.js"><link rel="prefetch" href="/v2/assets/js/44.0e0eb9aa.js"><link rel="prefetch" href="/v2/assets/js/45.f1577ac1.js"><link rel="prefetch" href="/v2/assets/js/46.aa7397c0.js"><link rel="prefetch" href="/v2/assets/js/47.a9df41fe.js"><link rel="prefetch" href="/v2/assets/js/48.12c34981.js"><link rel="prefetch" href="/v2/assets/js/49.dd9d6ed2.js"><link rel="prefetch" href="/v2/assets/js/5.c06f7037.js"><link rel="prefetch" href="/v2/assets/js/50.df8e0617.js"><link rel="prefetch" href="/v2/assets/js/51.e42bca6f.js"><link rel="prefetch" href="/v2/assets/js/6.081bfed4.js"><link rel="prefetch" href="/v2/assets/js/7.8f09680e.js"><link rel="prefetch" href="/v2/assets/js/8.98285849.js"><link rel="prefetch" href="/v2/assets/js/9.1099025b.js">
    <link rel="stylesheet" href="/v2/assets/css/0.styles.e6d66aac.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/v2/" class="home-link router-link-active"><img src="/v2/img/logo.png" alt="OpenSensorHub Documentation" class="logo"> <span class="site-name can-hide">OpenSensorHub Documentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/v2/guide/" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><a href="/v2/web/" class="nav-link">
  Web APIs
</a></div><div class="nav-item"><a href="/v2/dev/" class="nav-link">
  Developers
</a></div><div class="nav-item"><a href="/v2/addons/" class="nav-link">
  Add-Ons
</a></div> <a href="https://github.com/opensensorhub" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/v2/guide/" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><a href="/v2/web/" class="nav-link">
  Web APIs
</a></div><div class="nav-item"><a href="/v2/dev/" class="nav-link">
  Developers
</a></div><div class="nav-item"><a href="/v2/addons/" class="nav-link">
  Add-Ons
</a></div> <a href="https://github.com/opensensorhub" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Get Started</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/v2/guide/" aria-current="page" class="sidebar-link">Introduction</a></li><li><a href="/v2/guide/quickstart/installation.html" class="sidebar-link">Installation</a></li><li><a href="/v2/guide/quickstart/download-addons.html" class="sidebar-link">Download Add-ons</a></li><li><a href="/v2/guide/quickstart/protocols.html" class="sidebar-link">Supported Protocols</a></li><li><a href="/v2/guide/quickstart/license.html" class="sidebar-link">License</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Concepts &amp; Architecture</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/v2/guide/concepts/architecture-overview.html" aria-current="page" class="active sidebar-link">Architecture Overview</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/v2/guide/concepts/architecture-overview.html#core-components" class="sidebar-link">Core Components</a></li><li class="sidebar-sub-header"><a href="/v2/guide/concepts/architecture-overview.html#add-on-components" class="sidebar-link">Add-on Components</a></li></ul></li><li><a href="/v2/guide/concepts/data-model.html" class="sidebar-link">Core Data Model</a></li><li><a href="/v2/guide/concepts/system-drivers.html" class="sidebar-link">Real-time System Drivers</a></li><li><a href="/v2/guide/concepts/services-and-apis.html" class="sidebar-link">Web Services &amp; APIs</a></li><li><a href="/v2/guide/concepts/persistence.html" class="sidebar-link">Pluggable Persistence</a></li><li><a href="/v2/guide/concepts/security.html" class="sidebar-link">Security</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Admin Guide</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/v2/guide/admin/admin-console.html" class="sidebar-link">Web Admin Console</a></li><li><a href="/v2/guide/admin/config-reference.html" class="sidebar-link">Configuration File</a></li><li><a href="/v2/guide/admin/osgi-bundles.html" class="sidebar-link">OSGi Bundles Management</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Deployment</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/v2/guide/deploy/distributions.html" class="sidebar-link">OSH Distributions</a></li><li><a href="/v2/guide/deploy/docker.html" class="sidebar-link">Deploying with Docker</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="architecture-overview"><a href="#architecture-overview" class="header-anchor">#</a> Architecture Overview</h1> <p>OpenSensorHub's (OSH) <strong>modular and flexible architecture</strong> allows solving many different use cases related to sensor <strong>data collection</strong>, <strong>harmonization</strong>, <strong>processing</strong> and <strong>distribution/sharing</strong>.</p> <p>OSH core components implement a <strong>generic data model</strong> and an efficient <strong>streaming and historical data management engine</strong> that can accomodate <strong>any sensor type</strong>, while <strong>add-on modules</strong> provide specific functionality, tailored to specific use cases or sensor kinds.</p> <p>The main OSH components are shown on the following diagram:</p> <p><img src="/v2/assets/img/architecture-overview.0cff05ba.svg" alt="Overall Architecture Diagram"></p> <h2 id="core-components"><a href="#core-components" class="header-anchor">#</a> Core Components</h2> <p>The following components are part of the core engine and are thus present in all OSH deployments:</p> <h4 id="event-bus"><a href="#event-bus" class="header-anchor">#</a> Event Bus</h4> <p>The <strong>event bus</strong> enables <strong>asynchronous one-to-many messaging</strong> between components via a <strong>publish/subscribe</strong> paradigm. This is an essential component of OSH since many things in OSH are event-based and reactive.</p> <h4 id="federated-database"><a href="#federated-database" class="header-anchor">#</a> Federated Database</h4> <p>The <strong>federated database</strong> is a <strong>unified queryable interface</strong> allowing access to all data stored by OSH storage modules.</p> <p>It allows data consumers such as services and APIs to obtain their data in a unified manner. This is true for any storage type and/or any number of underlying storage backends that are used to persist and historize data.</p> <h4 id="system-registry"><a href="#system-registry" class="header-anchor">#</a> System Registry</h4> <p>The <strong>System Registry</strong> is a management component for modules adding new <a href="./data-model#system">Systems</a> (e.g. sensors, actuators, sensor networks, processes) to an OSH hub, such a sensor drivers.</p> <p>In particular, the <strong>System Registry</strong> handles the following aspects:</p> <ul><li>System state management (across restarts)</li> <li>Validation and forwarding of events produced by data producers to the event bus</li> <li>Dispatching of new events to the event bus when state changes are detected</li> <li>Reception of commands and distribution to the target system</li> <li>Automatic persistence of metadata (with full historization) and real-time data/commands (configurable)</li></ul> <h4 id="processing-engine"><a href="#processing-engine" class="header-anchor">#</a> Processing Engine</h4> <p>The <strong>processing engine</strong> provides functionality to <strong>execute processing chains</strong> in different modes:</p> <ul><li><strong>Stream processing mode</strong> to process real-time data flows (observations) into other derived data flows</li> <li><strong>On-demand processing mode</strong> to process data on-demand, when triggered by an external action (typically when requested from a service interface)</li> <li><strong>Batch processing mode</strong> to process or re-process archived data in batch</li></ul> <p>Processing chains are made of atomic processing components that are provided as add-ons.</p> <h2 id="add-on-components"><a href="#add-on-components" class="header-anchor">#</a> Add-on Components</h2> <p>Add-on components can be included at build time in a given OSH node distribution or they can be installed later using the new dynamic deployment features built on OSGi.</p> <h4 id="real-time-system-drivers"><a href="#real-time-system-drivers" class="header-anchor">#</a> Real-Time System Drivers</h4> <p><strong>Real-time System Drivers</strong> are add-ons implementing the <a href="../../dev/java-apis/real-time-driver-api">System Driver API</a> and responsible for pushing real-time (or quasi real-time) data into OSH by adapting a data feed coming from external sources. Drivers can be:</p> <ul><li><strong>Device drivers</strong> connecting directly to a <strong>physical device</strong> such as a <strong>sensor</strong>, an <strong>actuator</strong>, a digital system of any kind</li> <li><strong>Data feed drivers</strong> connecting to a network data feed in a non SWE format, e.g.
<ul><li>A Kafka feed flowing proprietary data</li> <li>An AVL data feed over TCP produced by an existing AVL data aggregation system</li> <li>A video data feed produced by a network camera</li> <li>etc.</li></ul></li></ul> <h4 id="database-connectors"><a href="#database-connectors" class="header-anchor">#</a> Database Connectors</h4> <p><strong>Any type of datastore</strong> can be used to persist data generated by OSH if the proper connector, implementing <a href="../../dev/java-apis/datastore-api">OSH Datastore API</a>, is developed. Virtually all kinds of storage backends can be supported, for example:</p> <ul><li>Embedded object databases (e.g. H2 MVStore, Perst)</li> <li>SQL databases (e.g. PostgreSQL, SQLLite, Oracle)</li> <li>Distributed NoSQL data stores (e.g. Elastic Search, MongoDB)</li> <li>Proxies for remote data stores (e.g. proprietary web services or APIs providing access to observation archives)</li> <li>File collections (e.g. NetCDF files)</li> <li>etc.</li></ul> <p>A single OSH hub can be configured with <strong>multiple databases</strong>, possibly mixing <strong>different kinds of storage backends</strong>. This provides full flexibility when a single hub is used to <strong>aggregate several existing data sources</strong> that are in their own legacy datastore. It also allows the administrator to pick the best database implementation for a given kind of dataset (e.g. think of specialized databases for video or point clouds for instance).</p> <p>Once one or more databases are configured on the hub, a component called the <strong>Federated Database</strong> exposes the content of all these separate (possibly mixed-types) databases through a unified read-only interface. This allows other components to discover and read any data from the databases without knowing the content of each of them.</p> <p>As we said previously, the <strong>Federated Database</strong> is read-only. This means that writing must be done by connecting directly to a specific database. Any OSH module that requires writing information to the OSH persistence layer is typically associated to one of the configured databases via configuration.</p> <p>For examples, transactional web services and API typically write to a specific database, that can be either dedicated to that service or shared among multiple services.
can request direct access to one of the configured database. However, <strong>System Drivers</strong> typically don't require a direct connection to the database, but rather delegate this job to the <strong>System Registry</strong>.</p> <p>Other components such as</p> <h4 id="processing-modules"><a href="#processing-modules" class="header-anchor">#</a> Processing Modules</h4> <p><strong>Processing modules</strong> provide one or more <strong>processing components</strong> that can be run <strong>standalone or as part of a larger processing chain</strong>. Processing modules can easily be created and added to an OSH node by implementing the <a href="../../dev/java-apis/processing-api">Processing API</a> to solve problems as various as:</p> <ul><li>Statitics and data summarizations</li> <li>Quality assurance and control (QA/QC)</li> <li>Geolocalization and other geospatial computations</li> <li>Artificial Intelligence and Machine Learning (AI/ML)</li> <li>Computer Vision and Video Processing (CV)</li> <li>etc.</li></ul> <p>Processing modules can be developed in pure Java or can wrap existing libraries developed in other languages (e.g. OpenCV, OpenAI, TensorFlow, Orekit, etc.)</p> <h4 id="external-apis-and-services"><a href="#external-apis-and-services" class="header-anchor">#</a> External APIs and Services</h4> <p><strong>External APIs and Services</strong> provide <strong>communication interfaces</strong> allowing the exchange of data in and out of an OSH node.</p> <p>Several <strong>HTTP based APIs and services</strong> are provided either as part of OSH Core or maintained by the core team:</p> <ul><li>OGC Sensor Observation Service (SOS), including transactional support (SOS-T)</li> <li>OGC Sensor Planning Service (SPS) and our custom extension for registering a remotely taskbable sensor (SPS-T)</li> <li>SensorWeb API</li> <li>SensorThings API</li></ul> <p><strong>MQTT bindings</strong> are also available for publishing and subscribing to real-time data as an extension to both SensorWeb API and SensorThings API.</p> <p>Many more can be developed as add-ons such as the video transcoding service that was added recently.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/opensensorhub/osh-docs/edit/v2/src/guide/concepts/architecture-overview.md" target="_blank" rel="noopener noreferrer">Edit</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">10/13/2021, 10:18:26 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/v2/guide/quickstart/license.html" class="prev">
        License
      </a></span> <span class="next"><a href="/v2/guide/concepts/data-model.html">
        Core Data Model
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/v2/assets/js/app.00ecaa82.js" defer></script><script src="/v2/assets/js/2.b6409af3.js" defer></script><script src="/v2/assets/js/10.54ab501a.js" defer></script>
  </body>
</html>
