<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Data Model | OpenSensorHub Documentation</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/v2/img/logo.png">
    <meta name="description" content="Java-based middleware for building better Sensor Webs and the Internet of Things">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/v2/assets/css/0.styles.85e9d0e6.css" as="style"><link rel="preload" href="/v2/assets/js/app.9ccb2959.js" as="script"><link rel="preload" href="/v2/assets/js/2.36d8f2b6.js" as="script"><link rel="preload" href="/v2/assets/js/28.c0ccdbaf.js" as="script"><link rel="prefetch" href="/v2/assets/js/10.9a61ac89.js"><link rel="prefetch" href="/v2/assets/js/11.c993c8a3.js"><link rel="prefetch" href="/v2/assets/js/12.a16f1770.js"><link rel="prefetch" href="/v2/assets/js/13.237fc215.js"><link rel="prefetch" href="/v2/assets/js/14.cf21a9cd.js"><link rel="prefetch" href="/v2/assets/js/15.c73017bf.js"><link rel="prefetch" href="/v2/assets/js/16.9da3287d.js"><link rel="prefetch" href="/v2/assets/js/17.476afdfa.js"><link rel="prefetch" href="/v2/assets/js/18.6b378198.js"><link rel="prefetch" href="/v2/assets/js/19.684fceff.js"><link rel="prefetch" href="/v2/assets/js/20.2e34678d.js"><link rel="prefetch" href="/v2/assets/js/21.0869625a.js"><link rel="prefetch" href="/v2/assets/js/22.792aa060.js"><link rel="prefetch" href="/v2/assets/js/23.ea38acc4.js"><link rel="prefetch" href="/v2/assets/js/24.897833a7.js"><link rel="prefetch" href="/v2/assets/js/25.ced43957.js"><link rel="prefetch" href="/v2/assets/js/26.c72fdea7.js"><link rel="prefetch" href="/v2/assets/js/27.dc54546e.js"><link rel="prefetch" href="/v2/assets/js/29.4677cab7.js"><link rel="prefetch" href="/v2/assets/js/3.708a7868.js"><link rel="prefetch" href="/v2/assets/js/30.07a8ea51.js"><link rel="prefetch" href="/v2/assets/js/31.437fb891.js"><link rel="prefetch" href="/v2/assets/js/32.a01df0e1.js"><link rel="prefetch" href="/v2/assets/js/33.b4c33446.js"><link rel="prefetch" href="/v2/assets/js/34.d9a386d3.js"><link rel="prefetch" href="/v2/assets/js/35.c04f0d7d.js"><link rel="prefetch" href="/v2/assets/js/36.4034d774.js"><link rel="prefetch" href="/v2/assets/js/37.4506d32f.js"><link rel="prefetch" href="/v2/assets/js/38.aeeead7f.js"><link rel="prefetch" href="/v2/assets/js/39.b170c31c.js"><link rel="prefetch" href="/v2/assets/js/4.347ee2f4.js"><link rel="prefetch" href="/v2/assets/js/40.f5f189d5.js"><link rel="prefetch" href="/v2/assets/js/41.95c22fba.js"><link rel="prefetch" href="/v2/assets/js/42.790e930c.js"><link rel="prefetch" href="/v2/assets/js/43.c72146b9.js"><link rel="prefetch" href="/v2/assets/js/44.2bb19e3a.js"><link rel="prefetch" href="/v2/assets/js/45.c54960e7.js"><link rel="prefetch" href="/v2/assets/js/5.493eb05c.js"><link rel="prefetch" href="/v2/assets/js/6.5cf5e428.js"><link rel="prefetch" href="/v2/assets/js/7.14b9824c.js"><link rel="prefetch" href="/v2/assets/js/8.4c865909.js"><link rel="prefetch" href="/v2/assets/js/9.e57e6e9e.js">
    <link rel="stylesheet" href="/v2/assets/css/0.styles.85e9d0e6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/v2/" class="home-link router-link-active"><img src="/v2/img/logo.png" alt="OpenSensorHub Documentation" class="logo"> <span class="site-name can-hide">OpenSensorHub Documentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/v2/guide/" class="nav-link router-link-active">
  User Guide
</a></div><div class="nav-item"><a href="/v2/web/" class="nav-link">
  Web APIs
</a></div><div class="nav-item"><a href="/v2/dev/" class="nav-link">
  Developer
</a></div><div class="nav-item"><a href="/v2/addons/" class="nav-link">
  Add-Ons
</a></div> <a href="https://github.com/opensensorhub" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/v2/guide/" class="nav-link router-link-active">
  User Guide
</a></div><div class="nav-item"><a href="/v2/web/" class="nav-link">
  Web APIs
</a></div><div class="nav-item"><a href="/v2/dev/" class="nav-link">
  Developer
</a></div><div class="nav-item"><a href="/v2/addons/" class="nav-link">
  Add-Ons
</a></div> <a href="https://github.com/opensensorhub" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Quick Start</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/v2/guide/" aria-current="page" class="sidebar-link">Introduction</a></li><li><a href="/v2/guide/installation.html" class="sidebar-link">Installation</a></li><li><a href="/v2/guide/download-addons.html" class="sidebar-link">Download Add-ons</a></li><li><a href="/v2/guide/protocols.html" class="sidebar-link">Supported Protocols</a></li><li><a href="/v2/guide/license.html" class="sidebar-link">License</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>General Concepts</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/v2/guide/architecture-overview.html" class="sidebar-link">Architecture Overview</a></li><li><a href="/v2/guide/data-model.html" aria-current="page" class="active sidebar-link">Data Model</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/v2/guide/data-model.html#procedures" class="sidebar-link">Procedures</a></li><li class="sidebar-sub-header"><a href="/v2/guide/data-model.html#datastreams" class="sidebar-link">Datastreams</a></li><li class="sidebar-sub-header"><a href="/v2/guide/data-model.html#command-streams" class="sidebar-link">Command Streams</a></li><li class="sidebar-sub-header"><a href="/v2/guide/data-model.html#observations" class="sidebar-link">Observations</a></li><li class="sidebar-sub-header"><a href="/v2/guide/data-model.html#features-of-interest" class="sidebar-link">Features of Interest</a></li><li class="sidebar-sub-header"><a href="/v2/guide/data-model.html#lineage" class="sidebar-link">Lineage</a></li><li class="sidebar-sub-header"><a href="/v2/guide/data-model.html#change-management" class="sidebar-link">Change Management</a></li></ul></li><li><a href="/v2/guide/real-time-drivers.html" class="sidebar-link">Real-time Device Drivers</a></li><li><a href="/v2/guide/services-and-apis.html" class="sidebar-link">Web Services &amp; APIs</a></li><li><a href="/v2/guide/persistence.html" class="sidebar-link">Pluggable Persistence</a></li><li><a href="/v2/guide/security.html" class="sidebar-link">Security</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Admin Guide</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/v2/guide/admin-console.html" class="sidebar-link">Web Admin Console</a></li><li><a href="/v2/guide/config-reference.html" class="sidebar-link">Configuration File</a></li><li><a href="/v2/guide/osgi-bundles.html" class="sidebar-link">OSGi Bundles Management</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="data-model"><a href="#data-model" class="header-anchor">#</a> Data Model</h1> <p>OpenSensorHub (OSH) internals are modeled on a few key concepts defined by the <a href="http://www.opengeospatial.org/standards/sensorml" target="_blank" rel="noopener noreferrer">SensorML<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="http://www.opengeospatial.org/standards/om" target="_blank" rel="noopener noreferrer">O&amp;M<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and <a href="https://www.ogc.org/standards/swecommon" target="_blank" rel="noopener noreferrer">SWE Common<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> standards. Below are detailed descriptions of these concepts and a few facts regarding their implementation in OSH.</p> <p>It's important to read through these definitions so you can better understand how data is organized by OSH, and find your way around OSH admin console components.</p> <h2 id="procedures"><a href="#procedures" class="header-anchor">#</a> Procedures</h2> <p><strong>Procedures</strong> are entities that can produce and or/receive data. They can be <strong>physical entities</strong> (e.g. sensors, actuators, devices...) or <strong>logical entities</strong> (e.g. processing components, forecast models...), but in both cases they are modeled as <strong>SensorML</strong> processes in OSH.</p> <p>All procedures in OSH have a description written in the <strong>SensorML</strong> language that provides more detailed information about it, including identification, classification, contacts, physical and measurement characteristics, etc. Each description also has a certain <strong>validity period</strong> (valid time) which allows for full historization of the procedure metadata (e.g. allows to capture and historize information about maintenance events, recalibrations, sensor relocations, etc.).</p> <p>Procedures can also be <strong>parameterized</strong>, either statically (via configuration) or dynamically (via tasking). Both types of parameterization can be self-described in the <strong>SensorML</strong> description.</p> <p>A procedure can be a <strong>data producer</strong>, in which case it has one or more <strong>outputs</strong> that represent data flows generated by the procedure. These data flows can include <strong>observation results</strong>, but also other things such as <strong>status information</strong>. Each <strong>output</strong> has a unique name (within the procedure) and is associated to a <strong>structure</strong> (a.k.a. schema) and <strong>encoding</strong>. Data records generated by an output are collected into a <strong>datastream</strong> (see below). Since version 2.0, OSH also supports output schema changes over time.</p> <p>A procedure can also be a <strong>command receiver</strong>, in which case it has one or more <strong>taskable parameters</strong> that represent commands or messages that can be received by the procedure. Similarly to <strong>outputs</strong>, each <strong>taskable parameter</strong> (or group of parameters) has a unique name (within the procedure) and is associated to a schema. Commands sent to the procedure and targeted at a specific taskable parameter must abide by its schema or the command is rejected. Commands can optionally be collected into</p> <h2 id="datastreams"><a href="#datastreams" class="header-anchor">#</a> Datastreams</h2> <p><strong>Datastreams</strong> are time series of <strong>observations</strong> of the same kind. By &quot;same kind&quot; we mean that the <strong>result</strong> of all <strong>observations</strong> in a given datastream share the same <strong>structure</strong> (i.e. abide to the same schema) and <strong>encoding</strong>.</p> <p>In OSH, datastreams are always associated to a <strong>procedure output</strong>. If the schema of an <strong>output</strong> changes, a new <strong>datastream</strong> is created, and in this case, there will be several datastreams associated to the same output, each one with a different validity period.</p> <p>Datastreams can be seen as the real-time channel through which data flows, or as a collection of historical observations over time. In fact, in OSH, a datastream represents both, depending on how the acquisition pipeline for a particular <strong>procedure</strong> is configured. Indeed, data records collected by a datastream can be discarded as soon as dispatched by the <strong>event bus</strong> (purely real-time datastream) or they can be persisted in a <strong>datastore</strong> (historical datastream), or both.</p> <p>The <strong>validity period</strong> attached to every datastream provides information about whether</p> <h2 id="command-streams"><a href="#command-streams" class="header-anchor">#</a> Command Streams</h2> <p><strong>Command streams</strong> are the image of <strong>datastreams</strong> that are used to augment <strong>procedures</strong> with <strong>tasking capabilities</strong>.</p> <h2 id="observations"><a href="#observations" class="header-anchor">#</a> Observations</h2> <p>Observations are a specific type of event, where a <strong>procedure</strong> observes the value of one or more properties of a <strong>feature of interest</strong>. Each observation has the following properties:</p> <p><strong>Procedure</strong></p> <p>The identifer of the <a href="#procedures"><strong>procedure</strong></a> and output that produced the observation. In OSH, we also associate an observation to an individual <a href="#datastreams"><strong>datastream</strong></a>.</p> <p><strong>Feature of Interest</strong></p> <p><strong>Phenomenon Time</strong></p> <p>Observations have a <strong>phenomenon time</strong> that indicates when the phenomenon being observed (or forecasted) took place. Note that the phenomenon time is not necessarily in the present: it can be in the past if the procedure observes something that happens long ago like a geological phenomenon, or in the future when the intent of the procedure is to forecast the state something.</p> <p><strong>Result Time</strong></p> <p>Observations also have a <strong>result time</strong> that indicates the time at which the procedure generated the observation result. It can be different from the phenomenon time.</p> <p>Note that for most types of automated/digital sensors, <strong>phenomenon time</strong> and <strong>result time</strong> can be considered equal because they are typically very close to each other. The only difference is due to the sensor latency, often of the order of a few milliseconds, sometimes a few seconds, so it can be neglected for most applications. Note that the latency can still be documented in the SensorML description of the procedure in case it is needed for more advanced processing.</p> <p><strong>Result</strong></p> <p>In OSH, observation results are always defined by a SWE Common data structure and encoding, both of which are self descriptive and can be retrieved by data consumers before they start consuming data from an OSH node.</p> <h2 id="features-of-interest"><a href="#features-of-interest" class="header-anchor">#</a> Features of Interest</h2> <h2 id="lineage"><a href="#lineage" class="header-anchor">#</a> Lineage</h2> <h2 id="change-management"><a href="#change-management" class="header-anchor">#</a> Change Management</h2> <p>All types of resources defined above can change in time andone strength of OSH is its ability to maintain a full history of changes</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/opensensorhub/osh-docs/edit/master/guide/data-model.md" target="_blank" rel="noopener noreferrer">Edit</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/v2/guide/architecture-overview.html" class="prev">
        Architecture Overview
      </a></span> <span class="next"><a href="/v2/guide/real-time-drivers.html">
        Real-time Device Drivers
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/v2/assets/js/app.9ccb2959.js" defer></script><script src="/v2/assets/js/2.36d8f2b6.js" defer></script><script src="/v2/assets/js/28.c0ccdbaf.js" defer></script>
  </body>
</html>
