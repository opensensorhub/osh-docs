(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{354:function(e,t,r){e.exports=r.p+"assets/img/procedure-registry-fig1.9e4007a1.svg"},372:function(e,t,r){"use strict";r.r(t);var s=r(42),o=Object(s.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"procedure-registry"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#procedure-registry"}},[e._v("#")]),e._v(" Procedure Registry")]),e._v(" "),s("p",[e._v("The "),s("strong",[e._v("procedure registry")]),e._v(" is one of the main components of OSH middleware, whose purpose is to manage all "),s("strong",[e._v("procedures")]),e._v(" (i.e. sensors, actuators, processes...) connected to the hub via "),s("strong",[e._v("device drivers")]),e._v(" or other OSH modules. The diagram below gives an overview of the interactions that exist between the procedure registry and other OSH components:")]),e._v(" "),s("p",[s("img",{attrs:{src:r(354),alt:"Procedure Registry diagram"}})]),e._v(" "),s("p",[e._v("In short, a device driver (or other module) can register one or more "),s("strong",[e._v("procedure")]),e._v(" descriptors with the registry that, in turns, exposes them to other OSH components via the "),s("strong",[e._v("event bus")]),e._v(" and the "),s("strong",[e._v("federated database")]),e._v(" interfaces. Once a "),s("strong",[e._v("procedure")]),e._v(" is registered and enabled, device drivers can start publishing "),s("strong",[e._v("data records")]),e._v(" and other events on their "),s("strong",[e._v("output channels")]),e._v(" and receive "),s("strong",[e._v("commands")]),e._v(" on their "),s("strong",[e._v("tasking channels")]),e._v(".")]),e._v(" "),s("h3",{attrs:{id:"registration"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#registration"}},[e._v("#")]),e._v(" Registration")]),e._v(" "),s("p",[s("strong",[e._v("Device drivers")]),e._v(" typically create one or more stateful Java objects that represent "),s("strong",[e._v("procedures")]),e._v(" (i.e. that extend the "),s("a",{attrs:{href:"~@alias/blabla"}},[e._v("IProcedureDriver")]),e._v(" interface). These objects need to be registered before the associated data and metadata can become available to other OSH components.")]),e._v(" "),s("p",[e._v("For backward compatibility with v1 drivers, the registration is done automatically for drivers that implement the "),s("a",{attrs:{href:"@javadoc/org/sensorhub/api/procedure/IProcedureDriver"}},[e._v("IProcedureDriver")]),e._v(" interface themselves but has to be done explicitely by the driver implementation in all other cases.")]),e._v(" "),s("p",[e._v("When a "),s("strong",[e._v("procedure")]),e._v(" is registered, the procedure registry connects it automatically to the "),s("strong",[e._v("event bus")]),e._v(", its associated "),s("strong",[e._v("database")]),e._v(" and "),s("strong",[e._v("tasking queues")]),e._v(", so that it becomes immediately available for other OSH components to make use of.")]),e._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[e._v("EXAMPLES")]),e._v(" "),s("p",[e._v("A "),s("strong",[e._v("standalone sensor")]),e._v(" driver creates a single procedure object, and optionally a single feature of interest.")]),e._v(" "),s("p",[e._v("An "),s("strong",[e._v("homogeneous sensor network")]),e._v(" (or sensor array) driver will typically register one procedure and many features of interest associated to it.")]),e._v(" "),s("p",[e._v("An "),s("strong",[e._v("heterogeneous sensor network")]),e._v(" driver may produce several procedures, each with a separate feature of interest.")])]),e._v(" "),s("h3",{attrs:{id:"event-dispatching"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#event-dispatching"}},[e._v("#")]),e._v(" Event Dispatching")]),e._v(" "),s("p",[e._v("The registry forwards all valid events produced by the driver to the event bus so that other modules can receive notifications in real-time")]),e._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[e._v("MIGRATION FROM V1")]),e._v(" "),s("p",[e._v("Prior to OSH v2, other OSH modules had to retrieve information directly from the sensor drivers themselves. The recommended approach is now for all modules to access all such information through the "),s("strong",[e._v("procedure registry")]),e._v(", "),s("strong",[e._v("federated database")]),e._v(" and "),s("strong",[e._v("event bus")]),e._v(" instead.")])])])}),[],!1,null,null,null);t.default=o.exports}}]);